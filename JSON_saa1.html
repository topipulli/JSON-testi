<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
</head>
<body>

<div id="vastaus"></div>

    <form>
    <label> Syötä kaupunki: </label>
    <input type="text" id="haettava" size="8">
    <input type="button" value="Hae säätiedot" onClick="haetiedot ()">
    </form>

<script>

var haettava = document.getElementById("haettava").value;

function haetiedot (){
    fetch('http://api.openweathermap.org/data/2.5/weather?lang=fi&q='+haettava+'&units=metric&APPID=420418691a28879ecd4b4e87bfca714a')
        .then(response => response.json())
        .then( responseJson => {
    
    document.getElementById("vastaus").innerHTML = 
    
    "<p>" + responseJson.weather[0].description + "<br>" +
    "Lämpötila: " + responseJson.main.temp.toFixed(0) + "°C" + "<br>" +
    "Tuuli: " + responseJson.wind.speed.toFixed(0) + " m/s" + "<br>" +
    "Pilvisyys: " + responseJson.clouds.all + "%"
})
}
</script>
</body>
</html>